<div class="row py-4 border-dark justify-content-center">
    <div class="col-sm-10 PaymentHistorySection border py-4">
        <div class="row mb-3 ps-4">
            <div class="col-sm-12">
                <div class="col-sm-1 float-right"><i class="fa fa-download fa-lg text-success"></i></div>
            </div>
        </div>
        <div class="row mb-2 ps-4">
            <div class="col-sm-6">
                <h5 class="mb-0">Payment History</h5>
                <p class="text-secondary"><small>See history of your payment plan invoice</small></p>
            </div>
            <div class="col-sm-6">
                <h5 class="mb-0 d-inline me-3">Search Client</h5>
                <input class="serchClient text-success" type="text" [(ngModel)]="searchClientName" (change)="searchClient()">
            </div>
        </div>
        <!-- <table class="table-responsive" style="width:100%">
            <tr class="mb-1 billData-headers">
                <th><input type="checkbox" class="mt-2"></th>
                <th class="text-bold" (click)="sortData('Payment Invoice')">Payment Invoice <i class="fas fa-long-arrow-alt-up text-success"></i><i class="fas fa-long-arrow-alt-up fa-rotate-180 text-success"></i></th>
                <th class="text-bold">Invoice Date <i class="fas fa-long-arrow-alt-up text-success"></i><i class="fas fa-long-arrow-alt-up fa-rotate-180 text-success"></i></th>
                <th class="text-bold">Status <i class="fas fa-long-arrow-alt-up text-success"></i><i class="fas fa-long-arrow-alt-up fa-rotate-180 text-success"></i></th>
                <th class="text-bold">Period <i class="fas fa-long-arrow-alt-up text-success"></i><i class="fas fa-long-arrow-alt-up fa-rotate-180 text-success"></i></th>
                <th class="text-bold">Amount <i class="fas fa-long-arrow-alt-up text-success"></i><i class="fas fa-long-arrow-alt-up fa-rotate-180 text-success"></i></th>
            </tr>
        </table> -->
        <div class="row mb-3">
            <div class="col-sm-1 text-end">
                <input type="checkbox" class="mt-2">
            </div>
            <div class="col-sm-11 border-0 bg-dark text-light py-1">
                <div class="billData-headers d-flex">
                    <div class="col fw-bold pe-0" (click)="sortAccordions('invoiceNumber')">Payment Invoice <i class="fas fa-long-arrow-alt-up text-success"></i><i class="fas fa-long-arrow-alt-up fa-rotate-180 text-success"></i></div>
                    <div class="col fw-bold" (click)="sortAccordions('date')">Invoice Date <i class="fas fa-long-arrow-alt-up text-success"></i><i class="fas fa-long-arrow-alt-up fa-rotate-180 text-success"></i></div>
                    <div class="col fw-bold" (click)="sortAccordions('status')">Status <i class="fas fa-long-arrow-alt-up text-success"></i><i class="fas fa-long-arrow-alt-up fa-rotate-180 text-success"></i></div>
                    <div class="col fw-bold" (click)="sortAccordions('period')">Period <i class="fas fa-long-arrow-alt-up text-success"></i><i class="fas fa-long-arrow-alt-up fa-rotate-180 text-success"></i></div>
                    <div class="col fw-bold ps-0" (click)="sortAccordions('amount')">Amount <i class="fas fa-long-arrow-alt-up text-success"></i><i class="fas fa-long-arrow-alt-up fa-rotate-180 text-success"></i></div>
                </div>
            </div>
        </div>
        <div class="row mb-0 pb-0 billsAccordion" id="invoiceNum" *ngFor="let invoice of sortedSampleBills">
            <div class="col-sm-1 text-end">
                <input type="checkbox" class="mt-3">
            </div>
            <ngb-accordion class="col-sm-11">
                <ngb-panel [collapsed]="true">
                    <ng-template ngbPanelTitle class="text-secondary">
                        <div class="col fw-bold">{{invoice.invoiceNumber}}</div>
                        <div class="col">{{invoice.date}}</div>
                        <div class="col" *ngIf="invoice.status=='Success'"><i class="fas fa-circle fa-xs text-success me-1"></i>{{invoice.status}}</div>
                        <div class="col" *ngIf="invoice.status =='Failed'" placement="top-left" ngbTooltip="Payment has Failed. please click to take action and not lose your data."><i class="fas fa-circle fa-xs text-danger me-1"></i> {{invoice.status}}</div>
                        <div class="col">{{invoice.period}}</div>
                        <div class="col">{{invoice.amount}}</div>
                    </ng-template>
                    <ng-template ngbPanelContent>
                        <div class="row mt-1">
                            <div class="col-sm-5 ps-0">
                                <div class="ps-3 bill-compName mt-4">
                                    <h3 class="mb-2">{{invoice.companyName}}</h3>
                                    <p>Thank you for subscribing our online shopping app service.</p>
                                </div>
                            </div>
                            <div class="col-sm-7 px-0">
                                <table class="table border-0 billing-table">
                                    <tr>
                                        <td><h6 class="">Monthly Account charges</h6></td>
                                        <td><h6>$1000.00</h6></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <h6 class="mb-0">Monthly regular package</h6>
                                            <p>10 items @ 100 per mongth</p>
                                        </td>
                                        <td><h6>$1000.00</h6></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <h6 class="mb-0">Monthly additional packages</h6>
                                            <p>100 items @ 100 per mongth</p>
                                        </td>
                                        <td><h6>$1000.00</h6></td>
                                    </tr>
                                    <tr class="mb-0">
                                        <td class="pb-0"><h6>Tax</h6></td>
                                        <td class="border-bottom border-dark pb-0"><h6>$1000.00</h6></td>
                                    </tr>
                                    <tr *ngIf="invoice.status == 'Success'">
                                        <td><h5 class="pt-4 ps-0 text-success">Paid</h5></td>
                                        <td><h5 class="pt-4">{{invoice.amount}}</h5></td>
                                    </tr>
                                    <tr *ngIf="invoice.status == 'Failed'">
                                        <td>
                                            <h5 class="text-danger mb-0 pt-4 ps-0">Payment Failed</h5>
                                            <button class="btn btn-sm takeActBtn py-0">Take Action</button>
                                        </td>
                                        <td><h5 class="pt-4">{{invoice.amount}}</h5></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </ng-template>
                </ngb-panel>
            </ngb-accordion>
      </div>
  </div>
</div>
<div class="row justify-content-center mb-4">
    <div class="col-sm-4 text-center">
        <button type="button" class="btn btn-primary text-light border btn-sm me-3" routerLink="/home">Home</button>
        <button type="button" class="btn btn-primary text-light border btn-sm" routerLink="/clientList">ClientList</button>
    </div>
</div>
<app-footer></app-footer>